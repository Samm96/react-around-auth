{"ast":null,"code":"import _classCallCheck from\"/Users/samanthahorsch/Desktop/BOOTCAMP - PRACTICUM - CODING/Projects/Sprint 10 Around The U.S. React/around-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/samanthahorsch/Desktop/BOOTCAMP - PRACTICUM - CODING/Projects/Sprint 10 Around The U.S. React/around-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";var Api=/*#__PURE__*/function(){function Api(_ref){var baseUrl=_ref.baseUrl,headers=_ref.headers;_classCallCheck(this,Api);this._baseUrl=baseUrl;this._headers=headers;}// used to get the server response\n_createClass(Api,[{key:\"_handleServerResponse\",value:function _handleServerResponse(res){return res.ok?res.json():Promise.reject(\"Error: \".concat(res.status));}},{key:\"getAppInfo\",value:function getAppInfo(){return Promise.all([this.getUserInfo(),this.getInitialCardList()]);}//used to request user info\n},{key:\"getUserInfo\",value:function getUserInfo(){return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{headers:this._headers}).then(this._handleServerResponse);}//used to insert user info\n},{key:\"setUserInfo\",value:function setUserInfo(_ref2){var name=_ref2.name,about=_ref2.about;return fetch(\"\".concat(this._baseUrl,\"/users/me\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({name:name,about:about})}).then(this._handleServerResponse);}// used to insert profile pic\n},{key:\"updateProfilePicture\",value:function updateProfilePicture(_ref3){var avatar=_ref3.avatar;return fetch(\"\".concat(this._baseUrl,\"/users/me/avatar\"),{method:\"PATCH\",headers:this._headers,body:JSON.stringify({avatar:avatar})}).then(this._handleServerResponse);}// used to get initial cards from server\n},{key:\"getInitialCardList\",value:function getInitialCardList(){return fetch(\"\".concat(this._baseUrl,\"/cards\"),{headers:this._headers}).then(this._handleServerResponse);}// used to add cards to page\n},{key:\"addCard\",value:function addCard(_ref4){var name=_ref4.name,link=_ref4.link;return fetch(\"\".concat(this._baseUrl,\"/cards\"),{method:\"POST\",headers:this._headers,body:JSON.stringify({name:name,link:link})}).then(this._handleServerResponse);}// removes cards\n},{key:\"removeCard\",value:function removeCard(_ref5){var _id=_ref5._id;return fetch(\"\".concat(this._baseUrl,\"/cards/\").concat(_id),{method:\"DELETE\",headers:this._headers}).then(this._handleServerResponse);}},{key:\"toggleLikeCardStatus\",value:function toggleLikeCardStatus(cardId,like){return fetch(\"\".concat(this._baseUrl,\"/cards/likes/\").concat(cardId),{method:like?\"PUT\":\"DELETE\",headers:this._headers}).then(this._handleServerResponse);}}]);return Api;}();export var api=new Api({baseUrl:\"https://around.nomoreparties.co/v1/group-12\",headers:{authorization:\"9b991f86-368d-4ef3-963c-b91580821c46\",\"Content-Type\":\"application/json\"}});","map":{"version":3,"sources":["/Users/samanthahorsch/Desktop/BOOTCAMP - PRACTICUM - CODING/Projects/Sprint 10 Around The U.S. React/around-react/src/utils/Api.js"],"names":["Api","baseUrl","headers","_baseUrl","_headers","res","ok","json","Promise","reject","status","all","getUserInfo","getInitialCardList","fetch","then","_handleServerResponse","name","about","method","body","JSON","stringify","avatar","link","_id","cardId","like","api","authorization"],"mappings":"+YAAMA,CAAAA,G,yBACJ,kBAAkC,IAApBC,CAAAA,OAAoB,MAApBA,OAAoB,CAAXC,OAAW,MAAXA,OAAW,2BAChC,KAAKC,QAAL,CAAgBF,OAAhB,CACA,KAAKG,QAAL,CAAgBF,OAAhB,CACD,CAED;qDACA,+BAAsBG,GAAtB,CAA2B,CACzB,MAAOA,CAAAA,GAAG,CAACC,EAAJ,CAASD,GAAG,CAACE,IAAJ,EAAT,CAAsBC,OAAO,CAACC,MAAR,kBAAyBJ,GAAG,CAACK,MAA7B,EAA7B,CACD,C,0BAED,qBAAa,CACX,MAAOF,CAAAA,OAAO,CAACG,GAAR,CAAY,CAAC,KAAKC,WAAL,EAAD,CAAqB,KAAKC,kBAAL,EAArB,CAAZ,CAAP,CACD,CAED;2BACA,sBAAc,CACZ,MAAOC,CAAAA,KAAK,WAAI,KAAKX,QAAT,cAA8B,CACxCD,OAAO,CAAE,KAAKE,QAD0B,CAA9B,CAAL,CAEJW,IAFI,CAEC,KAAKC,qBAFN,CAAP,CAGD,CAED;2BACA,2BAA6B,IAAfC,CAAAA,IAAe,OAAfA,IAAe,CAATC,KAAS,OAATA,KAAS,CAC3B,MAAOJ,CAAAA,KAAK,WAAI,KAAKX,QAAT,cAA8B,CACxCgB,MAAM,CAAE,OADgC,CAExCjB,OAAO,CAAE,KAAKE,QAF0B,CAGxCgB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAJA,IADmB,CAEnBC,KAAK,CAALA,KAFmB,CAAf,CAHkC,CAA9B,CAAL,CAOJH,IAPI,CAOC,KAAKC,qBAPN,CAAP,CAQD,CAED;oCACA,oCAAiC,IAAVO,CAAAA,MAAU,OAAVA,MAAU,CAC/B,MAAOT,CAAAA,KAAK,WAAI,KAAKX,QAAT,qBAAqC,CAC/CgB,MAAM,CAAE,OADuC,CAE/CjB,OAAO,CAAE,KAAKE,QAFiC,CAG/CgB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBC,MAAM,CAANA,MADmB,CAAf,CAHyC,CAArC,CAAL,CAMJR,IANI,CAMC,KAAKC,qBANN,CAAP,CAOD,CAED;kCACA,6BAAqB,CACnB,MAAOF,CAAAA,KAAK,WAAI,KAAKX,QAAT,WAA2B,CACrCD,OAAO,CAAE,KAAKE,QADuB,CAA3B,CAAL,CAEJW,IAFI,CAEC,KAAKC,qBAFN,CAAP,CAGD,CAED;uBACA,uBAAwB,IAAdC,CAAAA,IAAc,OAAdA,IAAc,CAARO,IAAQ,OAARA,IAAQ,CACtB,MAAOV,CAAAA,KAAK,WAAI,KAAKX,QAAT,WAA2B,CACrCgB,MAAM,CAAE,MAD6B,CAErCjB,OAAO,CAAE,KAAKE,QAFuB,CAGrCgB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnBL,IAAI,CAAJA,IADmB,CAEnBO,IAAI,CAAJA,IAFmB,CAAf,CAH+B,CAA3B,CAAL,CAOJT,IAPI,CAOC,KAAKC,qBAPN,CAAP,CAQD,CAED;0BACA,0BAAoB,IAAPS,CAAAA,GAAO,OAAPA,GAAO,CAClB,MAAOX,CAAAA,KAAK,WAAI,KAAKX,QAAT,mBAA2BsB,GAA3B,EAAkC,CAC5CN,MAAM,CAAE,QADoC,CAE5CjB,OAAO,CAAE,KAAKE,QAF8B,CAAlC,CAAL,CAGJW,IAHI,CAGC,KAAKC,qBAHN,CAAP,CAID,C,oCAED,8BAAqBU,MAArB,CAA6BC,IAA7B,CAAmC,CACjC,MAAOb,CAAAA,KAAK,WAAI,KAAKX,QAAT,yBAAiCuB,MAAjC,EAA2C,CACrDP,MAAM,CAAEQ,IAAI,CAAG,KAAH,CAAW,QAD8B,CAErDzB,OAAO,CAAE,KAAKE,QAFuC,CAA3C,CAAL,CAGJW,IAHI,CAGC,KAAKC,qBAHN,CAAP,CAID,C,mBAGH,MAAO,IAAMY,CAAAA,GAAG,CAAG,GAAI5B,CAAAA,GAAJ,CAAQ,CACzBC,OAAO,CAAE,6CADgB,CAEzBC,OAAO,CAAE,CACP2B,aAAa,CAAE,sCADR,CAEP,eAAgB,kBAFT,CAFgB,CAAR,CAAZ","sourcesContent":["class Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  // used to get the server response\n  _handleServerResponse(res) {\n    return res.ok ? res.json() : Promise.reject(`Error: ${res.status}`);\n  }\n\n  getAppInfo() {\n    return Promise.all([this.getUserInfo(), this.getInitialCardList()]);\n  }\n\n  //used to request user info\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers,\n    }).then(this._handleServerResponse);\n  }\n\n  //used to insert user info\n  setUserInfo({ name, about }) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        about,\n      }),\n    }).then(this._handleServerResponse);\n  }\n\n  // used to insert profile pic\n  updateProfilePicture({ avatar }) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        avatar,\n      }),\n    }).then(this._handleServerResponse);\n  }\n\n  // used to get initial cards from server\n  getInitialCardList() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers,\n    }).then(this._handleServerResponse);\n  }\n\n  // used to add cards to page\n  addCard({ name, link }) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name,\n        link,\n      }),\n    }).then(this._handleServerResponse);\n  }\n\n  // removes cards\n  removeCard({ _id }) {\n    return fetch(`${this._baseUrl}/cards/${_id}`, {\n      method: \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleServerResponse);\n  }\n\n  toggleLikeCardStatus(cardId, like) {\n    return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\n      method: like ? \"PUT\" : \"DELETE\",\n      headers: this._headers,\n    }).then(this._handleServerResponse);\n  }\n}\n\nexport const api = new Api({\n  baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\n  headers: {\n    authorization: \"9b991f86-368d-4ef3-963c-b91580821c46\",\n    \"Content-Type\": \"application/json\",\n  }\n});\n\n"]},"metadata":{},"sourceType":"module"}